{
    "template": "<!-- Version 2.3 \n\t\t * Order in item groups not guaranteed, switched to using items directly\n-->\n\n<style>\n  .QC, .QC:hover, .QC:focus, .open>.dropdown-toggle.QC {\n    font-weight: 500;\n    font-size: large;\n\n    color: var(--widget-text-color);\n    white-space: normal; \n  \n    border-radius: var(--widget-border-radius);\n    border-color: var(--widget-text-color);\n    border-width: thin;\n    background-color: var(--widget-design-bg);\n  }\n \n  .QC.active, .QC:active{\n    border-color: var(--primary-color);\n  }\n  .HoldClimate {\n    color: var(--primary-color);\n  }\n  .popup {\n  padding: 30px; border: 1px solid #456;\n  }\n</style>\n<!-- \ntodo: responsive 2 columns\n-->\n<!-- global variable used to transfer data to the modal dialog -->\n<div ng-init=\"qs_selection = {state: 'defaultstate', holdAction:itemState(config.holdAction)};\"></div>\n<script type=\"text/ng-template\" id=\"resumeContent.html\">\n  <div class=\"container popup\">\n    <h3 style=\"color: white\">Resume schedule?</h3>\n    <button type=\"button\"\n      class=\"btn btn-lg btn-success\"\n      ng-click=\"qs_selection.state='resume';sendCmd('ecobee_qs_schedule', qs_selection); $close()\">\n      Resume\n    </button>\n    <button type=\"button\"\n            class=\"btn btn-lg pull-right btn-danger\"\n            ng-click=\"$close()\" >\n      Cancel\n    </button>\n  </div>\n</script>\n<script type=\"text/ng-template\" id=\"myModalContent.html\">\n  <div class=\"container popup\">\n    <h3 style=\"color: white\">Hold selection for:</h3>\n    <div class=\"btn-group-vertical btn-block\">\n\n    <button type=\"button\"\n      class=\"btn btn-lg btn-block QC\"\n      ng-click=\"qs_selection.holdAction='useEndTime4hour';sendCmd('ecobee_qs_schedule', qs_selection); $close()\">\n      4 hours\n    </button>\n    <button type=\"button\"\n      class=\"btn btn-lg btn-block QC\"\n      ng-click=\"qs_selection.holdAction='useEndTime2hour';sendCmd('ecobee_qs_schedule', qs_selection); $close()\">\n      2 hours\n    </button>\n    <button type=\"button\"\n      class=\"btn btn-lg btn-block QC\"\n      ng-click=\"qs_selection.holdAction='nextPeriod';sendCmd('ecobee_qs_schedule', qs_selection); $close()\">\n      Until next schedule\n    </button>\n    <button type=\"button\"\n      class=\"btn btn-lg btn-block QC\"\n      ng-click=\"qs_selection.holdAction='indefinite';sendCmd('ecobee_qs_schedule', qs_selection); $close()\">\n      Until I change it\n    </button>\n    </div>\n    <hr/>\n    <a ng-click=\"$close()\" class=\"btn pull-right btn-danger\">Cancel</a>\n  </div>\n</script>\n\n<div ng-app=\"\" ng-init=\"climates=[{name:itemState('climate0Name'),ref:itemState('climate0')},\n                                  {name:itemState('climate1Name'),ref:itemState('climate1')},\n                                  {name:itemState('climate2Name'),ref:itemState('climate2')},\n                                  {name:itemState('climate3Name'),ref:itemState('climate3')},\n                                  {name:itemState('climate4Name'),ref:itemState('climate4')},\n                                  {name:itemState('climate5Name'),ref:itemState('climate5')}]\">\n<!-- need to use a rule so we use ecobee_qs_schedule directly instead of a setting-->\n  <button type=\"button\"\n        class=\"btn btn-lg btn-block QC {{item.ref==itemState(config.currentClimateRef) && (itemState('ecobee_qs_schedule') == 'NULL') ? 'active' : item.ref==itemState('ecobee_qs_schedule') ? 'active HoldClimate' : ''}}\"\n        ng-repeat=\"item in climates | filter:{name: '!N/A'}\"\n        ng-click=\"qs_selection.state=item.ref;\n                  item.ref==itemState('ecobee_qs_schedule')\n                  \t? openModal('resumeContent.html', false, 'sm')\n                  \t: ( (itemState(config.holdAction) == 'askMe') \n                  \t\t\t? openModal('myModalContent.html', false, 'sm')\n                  \t\t  : sendCmd('ecobee_qs_schedule', qs_selection)\n                      )\">\n  {{item.name}} {{(itemState(config.holdAction) == 'askMe') ? '' : 'and hold'}}\n</button>\n</div>\n\n",
    "name": "Ecobee Quick Settings Widget",
    "author": "RedOranges",
    "description": "Simple Widget to allow holiding a Climate",
    "settings": [
        {
            "type": "item",
            "id": "currentClimateRef",
            "default": "program_currentClimateRef",
            "description": "The current climate reference, default should be set to \"program_currentClimateRef\"",
            "label": "Current Climate Ref"
        },
        {
            "type": "item",
            "id": "holdAction",
            "default": "settings_holdAction",
            "description": "Your thermostat setting for hold long to hold for when setting a hold. Default should be set to \"settings_holdAction\"",
            "label": "Hold Action"
        }
    ],
    "readme_url": "https://community.openhab.org/t/38646"
}